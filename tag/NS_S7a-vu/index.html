<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Gridea</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0,maximum-scale=1.0, user-scalable=no"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="renderer" content="webkit">
    <meta http-equiv="Cache-Control" content="no-siteapp"/>
    <link rel="stylesheet" href="/styles/main.css">
    <link rel="stylesheet" href="//cdnjs.loli.net/ajax/libs/mdui/0.4.3/css/mdui.min.css">
    <link rel="stylesheet" href="/media/live2d/css/live2d.css" />
    
</head>
<body class=" mdui-appbar-with-toolbar  mdui-theme-primary-pink mdui-theme-accent-pink">
        <header class="mdui-toolbar mdui-color-pink mdui-appbar-fixed mdui-appbar-scroll-toolbar-hide" style="z-index: 1000">
    <a href="javascript:;" mdui-drawer="{target: '#left-drawer',overlay:true}" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">menu</i></a>
    <span class="mdui-typo-title">Gridea</span>
    <div class="mdui-toolbar-spacer"></div>
<!--    <a href="javascript:history.go(0);" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">search</i></a>-->
    <a href="javascript:;" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">more_vert</i></a>
</header>

        <div class="mdui-drawer mdui-color-white mdui-drawer-full-height mdui-drawer-close" id="left-drawer">
    <ul class="mdui-list">
        <li class="mdui-subheader">菜单</li>
        
        <li class="mdui-list-item mdui-ripple">
            <a href="/" class="mdui-list-item-content">首页</a>
        </li>
        
        <li class="mdui-list-item mdui-ripple">
            <a href="/archives" class="mdui-list-item-content">归档</a>
        </li>
        
        <li class="mdui-list-item mdui-ripple">
            <a href="/tags" class="mdui-list-item-content">标签</a>
        </li>
        
        <li class="mdui-list-item mdui-ripple">
            <a href="/post/about" class="mdui-list-item-content">关于</a>
        </li>
        
    </ul>
</div>

        <div class="mdui-container">
            <div class="mdui-row mdui-row-gapless">
                <div class="k-container">
                    <div class="head_card-offset"></div>
                    
    <div class="mdui-card">
        <div class="mdui-card-media">
            <img src="http://alfy20.github.io/post-images/es5es6es7-bi-ji.webp"/>
            <div class="mdui-card-media-covered">
                <div class="mdui-card-primary">
                    <div class="mdui-card-primary-title">ES5、ES6、ES7 笔记</div>
                    <div class="mdui-card-primary-subtitle"><p><img src="http://alfy20.github.io/post-images/1598855801819.webp" alt="" loading="lazy"># ES5、6、7</p>
<p>ES的几个重要版本</p>
<ul>
<li>ES5：09年发布</li>
<li>ES6(ES2015)：15年发布</li>
<li>ES7(ES2016)：16年发布(变化不大)</li>
</ul>
<h2 id="一-es5">一、ES5</h2>
<h3 id="11-严格模式">1.1 严格模式</h3>
<p>除了正常运行模式，ES5 添加了第二种模式“严格模式”，使得 JS 在更严格的语法条件下运行。</p>
<p>目的：消除 JS 语法的不合理/不严谨/不安全之处，为代码的安全运行保驾护航。</p>
<p>使用：</p>
<ul>
<li>在全局或函数的第一条语句定义为：'use strict'</li>
<li>如果浏览器不支持，只解析为一条简单的语句，没有任何副作用</li>
</ul>
<p>语法和行为改变：</p>
<ul>
<li>必须使用 var 声明变量</li>
<li>禁止自定义的函数中的 this 指向 window</li>
</ul>
<pre><code class="language-javascript">

'use strict'
function Person(name, age) {
  this.name = name;
  this.age = age;
}
new Person('kb', 39)// 不加上new
// 报错Uncaught TypeError: Cannot set property 'name' of undefined

new Person('kb', 39) // 加上new
// 不报错Person {name: &quot;kb&quot;, age: 39}
</code></pre>
<blockquote>
<p>因为此时 Person 中的 this 指向的是 window；只有加上 new，this 才指向 new 出来的一个实例对象</p>
</blockquote>
<ul>
<li>创建 eval 作用域(目前不推荐使用)</li>
<li>对象不能有重名的属性</li>
</ul>
<h3 id="12-json-对象">1.2 JSON 对象</h3>
<ol>
<li>
<p>JSON.stringify(obj/arr)</p>
<p>将 js 对象(数组)转换为 json 对象(数组)</p>
</li>
<li>
<p>JSON.parse(json)</p>
<p>将 json 对象(数组)转换为 js 对象(数组)</p>
</li>
</ol>
<pre><code class="language-javascript">var obj = {username: 'kb'}; // 创建一个js对象

obj = JSON.stringify(obj); // 转换成JSON对象
console.log(obj) // {&quot;username&quot;:&quot;kb&quot;}
console.log(typeof obj) // string

obj = JSON.parse(obj) // 转换成JS对象
console.log(obj) // {username: &quot;kb&quot;}
console.log(typeof obj) // object
</code></pre>
<h3 id="13-object-对象方法扩展">1.3 Object 对象方法扩展</h3>
<p>ES5 给 Object 扩展了一些静态方法，常用的2个：</p>
<h4 id="objectcreateprototype-descriptors">object.create(prototype, [descriptors])</h4>
<p>作用：以指定对象为原型创建新的对象</p>
<p>为新的对象指定新的属性，并对实行进行描述</p>
<ul>
<li>value：指定值</li>
<li>writable：标识当前属性值是否可修改，默认为false</li>
<li>configurable：标识当前属性是否可以被删除，默认为false</li>
<li>enumerable：标识当前属性是否能用for in 枚举，默认为false</li>
</ul>
<pre><code class="language-javascript">var obj = {username: 'dm', age: 30};
var obj1 = {};
obj1 = Object.create(obj, {
  sex: { // 扩展的新属性
    value: 'male',
    writable: true, // 只有指定writable为true才能修改sex的值
    configurable: true, // 只有指定configurable为true才能删除sex的值
    enumerable: true // 只有指定enumerable为true才能枚举sex的值
  },

});
console.log(obj1.age); // 30
console.log(obj1);
/*
  sex: &quot;male&quot;
 &gt;__proto__:
    age: 30
    username: &quot;dm&quot;
*/
console.log(obj1.sex); // male
obj1.sex = 'female';
console.log(obj1.sex); // female
//delete obj1.sex;
//console.log(obj1.sex); // undefined
for(var i in obj1) {
  console.log(i) // sex也能打印出来
}
</code></pre>
<h4 id="objectdefinepropertiesobject-descriptors">Object.defineProperties(object, descriptors)</h4>
<p>作用：为指定对象定义扩展多个属性</p>
<p>get：用来获取当前<strong>属性值</strong>的回调函数</p>
<p>set：监听当前<strong>属性值</strong>的回调函数(属性值发生变化会自动调用)，调用后会将修改后的值作为实参注入到 set 函数</p>
<p>存取器属性：setter，getter 一个用来存值，一个用来取值</p>
<pre><code class="language-javascript">var obj2 = {firstName: 'kb', lastName: 'brt'};
Object.defineProperties(obj2, {
  fullName: {
    get: function() { // 获取当前扩展属性的值的回调函数，每次获取属性值时get方法自动调用
      console.log('get()');
      return this.firstName + ' ' + this.lastName;
    },
    set: function(data) { // 监听当前扩展属性，只有当他发生变化时才自动调用(data就是想要修改成的值)
      console.log('set()', data) // set() tim dc
      var names = data.split(' '); // 不能直接改变fullName的值但是可以通过这种方式间接改变
      this.firstName = names[0];
      this.lastName = names[1];
    }
  }
})

console.log(obj2.fullName)
obj2.fullName = 'tim dc' // 修改fullName属性的值
console.log(obj2.fullName)
// get()
// kb ret
// set(), tim dc
// get()
// tim dc
</code></pre>
<h4 id="对象本身的两个方法">对象本身的两个方法</h4>
<p>get propertyName() {}：用来得到当前属性值的回调函数</p>
<p>set propertyName() {} ：用来监听当前属性值变化的回调函数</p>
<pre><code class="language-javascript">var obj = {
  firstName: 'cr',
  lastName: 'stp',
  get fullName() {
    return this.firstName + ' ' + this.lastName;
  },
  set fullName(data) {
    var names = data.split(' ');
    this.firstName = names[0];
    this.lastName = names[1];
  }
};
console.log(obj);
obj.fullName = 'kb brt';
console.log(obj.fullName);
</code></pre>
<p><strong>这两种写法不同但是结果是完全相同的。</strong></p>
<h3 id="14-array-扩展">1.4 Array 扩展</h3>
</div>
                </div>
                <div class="mdui-card-actions" style="float:right;">
                    <a href="http://alfy20.github.io/post/es5es6es7-bi-ji/" class="mdui-btn mdui-ripple mdui-ripple-white">点击查看</a>
                </div>
            </div>
        </div>
    </div>
    <div class="head_card-offset"></div>


                </div>
            </div>
            <div class="mdui-row mdui-row-gapless">
                <div class="k-container">
                    

                </div>
            </div>
        </div>
        <footer class="mdui-container footer ">
    <div class="head_card-offset"></div>
    <div class="mdui-row mdui-row-gapless">
        <div class="k-container">
            <img width="100%" src="/media/img/skirt.png">
        </div>
    </div>

    <div class="site-info">
        Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
    </div>
</footer>
<div id="landlord" style="left:5px;bottom:0px;">
    <div class="message" style="opacity:0"></div>
    <canvas id="live2d" width="500" height="560" class="live2d"></canvas>
    <div class="live_talk_input_body">
        <div class="live_talk_input_name_body">
            <input name="name" type="text" class="live_talk_name white_input" id="AIuserName" autocomplete="off" placeholder="你的名字" />
        </div>
        <div class="live_talk_input_text_body">
            <input name="talk" type="text" class="live_talk_talk white_input" id="AIuserText" autocomplete="off" placeholder="要和我聊什么呀？"/>
            <button type="button" class="live_talk_send_btn" id="talk_send">发送</button>
        </div>
    </div>
    <input name="live_talk" id="live_talk" value="1" type="hidden" />
    <div class="live_ico_box">
        <div class="live_ico_item type_info" id="showInfoBtn"></div>
        <div class="live_ico_item type_talk" id="showTalkBtn"></div>
        <div class="live_ico_item type_music" id="musicButton"></div>
        <div class="live_ico_item type_youdu" id="youduButton"></div>
        <div class="live_ico_item type_quit" id="hideButton"></div>
        <input name="live_statu_val" id="live_statu_val" value="0" type="hidden" />
        <audio src="" style="display:none;" id="live2d_bgm" data-bgm="0" preload="none"></audio>
        <input name="live2dBGM" value="https://img.apa70.com/123.mp3" type="hidden">
        <input name="live2dBGM" value="https://img.apa70.com/123.mp3" type="hidden">
        <input id="duType" value="douqilai,l2d_caihong" type="hidden">
    </div>
</div>
<div id="open_live2d">召唤伊斯特瓦尔</div>
<script>
    var message_Path = '/media/live2d/';//资源目录，如果目录不对请更改
    var talkAPI = "";//如果有类似图灵机器人的聊天接口请填写接口路径
</script>
<!--<script src="/media/js/jquery-3.3.1.min.js"></script>-->
<script src="//apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
<script type="text/javascript" src="/media/live2d/js/live2d.js"></script>
<script type="text/javascript" src="/media/live2d/js/message.js"></script>

    </body>
<script src="//cdnjs.loli.net/ajax/libs/mdui/0.4.3/js/mdui.min.js"></script>
</html>
